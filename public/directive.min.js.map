{"version":3,"file":"directive.min.js","sources":["../src/components/HighlightText.js"],"sourcesContent":["let originalContent = undefined\r\n\r\nconst getFlags = function (sensitive) {\r\n  let flag = 'g'\r\n  flag = !sensitive ? flag + 'i' : flag\r\n  return flag\r\n}\r\n\r\nconst escapeRegExp = function (str) {\r\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&')\r\n}\r\n\r\nconst highlightSeach = function (message, keyword, flags) {  \r\n  const match = new RegExp(`(${escapeRegExp(keyword)})`,flags)\r\n  if (match.test(message)) {\r\n    return message.replace(match, `<span style=\"color: #0084FF;\">\\$&</span>`)\r\n  }\r\n  return message\r\n}\r\n\r\nconst HighlightTextDirective = {\r\n  bind(el, binding) {\r\n    originalContent = el.innerHTML\r\n    const { value: {keyword, sensitive} } = binding\r\n    let newSensitive = sensitive === undefined ? true : sensitive\r\n    el.innerHTML = highlightSeach(originalContent, keyword, getFlags(newSensitive))\r\n  },\r\n  update(el, binding) {\r\n    const { value: {keyword, sensitive} } = binding\r\n    let newSensitive = sensitive === undefined ? true : sensitive\r\n    el.innerHTML = highlightSeach(originalContent, keyword, getFlags(newSensitive))\r\n  },\r\n  unbind(el) {\r\n    el.innerHTML = originalContent\r\n  }\r\n}\r\n\r\nexport default HighlightTextDirective\r\n"],"names":["originalContent","undefined","getFlags","sensitive","flag","highlightSeach","message","keyword","flags","match","RegExp","replace","test","el","binding","innerHTML","value","newSensitive"],"mappings":";;;;;4LAAA,IAAIA,OAAkBC,EAEhBC,EAAW,SAAUC,OACrBC,EAAO,aACHD,EAAyBC,EAAbA,EAAO,KAQvBC,EAAiB,SAAUC,EAASC,EAASC,OAC3CC,EAAQ,IAAIC,kBAAwBH,EAJ/BI,QAAQ,sCAAuC,aAIJH,UAClDC,EAAMG,KAAKN,GACNA,EAAQK,QAAQF,6CAElBH,wBAIFO,EAAIC,KACWD,EAAGE,gBACmBD,EAAhCE,MAAQT,IAAAA,QAASJ,IAAAA,UACrBc,OAA6BhB,IAAdE,GAAiCA,IACjDY,UAAYV,EAAeL,EAAiBO,EAASL,EAASe,qBAE5DJ,EAAIC,SAC+BA,EAAhCE,MAAQT,IAAAA,QAASJ,IAAAA,UACrBc,OAA6BhB,IAAdE,GAAiCA,IACjDY,UAAYV,EAAeL,EAAiBO,EAASL,EAASe,qBAE5DJ,KACFE,UAAYf"}