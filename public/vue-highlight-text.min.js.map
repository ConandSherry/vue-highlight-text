{"version":3,"file":"vue-highlight-text.min.js","sources":["../src/components/HighlightText.js","../src/components/VueHighlightText.vue"],"sourcesContent":["let originalContent = undefined\r\n\r\nconst getFlags = function (sensitive) {\r\n  let flag = 'g'\r\n  flag = !sensitive ? flag + 'i' : flag\r\n  return flag\r\n}\r\n\r\nconst escapeRegExp = function (str) {\r\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&')\r\n}\r\n\r\nconst highlightSeach = function (message, keyword, flags) {  \r\n  const match = new RegExp(`(${escapeRegExp(keyword)})`,flags)\r\n  if (match.test(message)) {\r\n    return message.replace(match, `<span style=\"color: #0084FF;\">\\$&</span>`)\r\n  }\r\n  return message\r\n}\r\n\r\nconst HighlightTextDirective = {\r\n  bind(el, binding) {\r\n    originalContent = el.innerHTML\r\n    const { value: {keyword, sensitive} } = binding\r\n    el.innerHTML = highlightSeach(originalContent, keyword, getFlags(sensitive))\r\n  },\r\n  update(el, binding) {\r\n    const { value: {keyword, sensitive} } = binding\r\n    el.innerHTML = highlightSeach(originalContent, keyword, getFlags(sensitive))\r\n  },\r\n  unbind(el) {\r\n    el.innerHTML = originalContent\r\n  }\r\n}\r\n\r\nexport default HighlightTextDirective\r\n","<template>\r\n  <span v-highlight=\"{keyword: keyword, sensitive: sensitive}\" >{{message}}</span>\r\n</template>\r\n\r\n\r\n<script>\r\nimport HighlightText from './HighlightText'\r\nexport default {\r\n  props: {\r\n    keyword: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    sensitive: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n  },\r\n  directives: {\r\n    highlight: HighlightText\r\n  },\r\n  computed: {\r\n    message () {\r\n      return this.$slots.default[0].text\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"names":["originalContent","undefined","getFlags","sensitive","flag","highlightSeach","message","keyword","flags","match","RegExp","replace","test","HighlightTextDirective","el","binding","innerHTML","value","String","Boolean","HighlightText","this","$slots","default","text"],"mappings":";;;;;4LAAA,IAAIA,OAAkBC,EAEhBC,EAAW,SAAUC,OACrBC,EAAO,aACHD,EAAyBC,EAAbA,EAAO,KAQvBC,EAAiB,SAAUC,EAASC,EAASC,OAC3CC,EAAQ,IAAIC,kBAAwBH,EAJ/BI,QAAQ,sCAAuC,aAIJH,UAClDC,EAAMG,KAAKN,GACNA,EAAQK,QAAQF,6CAElBH,GAGHO,iBACCC,EAAIC,KACWD,EAAGE,gBACmBD,EAAhCE,MAAQV,IAAAA,QAASJ,IAAAA,YACtBa,UAAYX,EAAeL,EAAiBO,EAASL,EAASC,qBAE5DW,EAAIC,SAC+BA,EAAhCE,MAAQV,IAAAA,QAASJ,IAAAA,YACtBa,UAAYX,EAAeL,EAAiBO,EAASL,EAASC,qBAE5DW,KACFE,UAAYhB,WC/BnB,gQAAA,+TAUYkB,iBACI,mBAGJC,iBACG,0BAIAC,uCAIFC,KAAKC,OAAOC,QAAQ,GAAGC"}